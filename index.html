<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Relatório Produção - 17/11/2025</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --bg: #f9fafb; --card: #ffffff; --border: #e5e7eb;
      --text: #1f2937; --gray: #6b7280;
      --funnel-1: #22c55e; --funnel-2: #3b82f6; --funnel-3: #f59e0b; --funnel-4: #94a3b8; --funnel-5: #16a34a;
      --bar-fill: #3b82f6;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { font-family:'Segoe UI',sans-serif; background:var(--bg); color:var(--text); padding:15px; height:100vh; overflow:hidden; position:relative; }
    #bg-canvas { position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1; pointer-events:none; }
    .container { max-width:1900px; margin:auto; position:relative; z-index:1; }
    .header { display:flex; align-items:center; margin-bottom:18px; border-bottom:2px solid var(--border); padding-bottom:10px; }
    .logo { max-width:140px; margin-right:20px; }
    .title { font-size:1.85em; font-weight:600; }
    .subtitle { font-size:1.05em; color:var(--gray); margin-top:4px; }
    .grid { display:grid; grid-template-columns:1.35fr 1fr; gap:18px; height:calc(100vh - 155px); }
    .left, .right { overflow-y:auto; padding-right:8px; }
    table { width:100%; border-collapse:collapse; font-size:0.9em; margin:10px 0; }
    th, td { padding:9px 11px; text-align:left; border-bottom:1px solid var(--border); }
    th { background:#f8fafc; font-weight:600; }
    .section { background:var(--card); border:1px solid var(--border); border-radius:12px; padding:16px; margin-bottom:18px; box-shadow:0 4px 12px rgba(0,0,0,0.05); }
    .section h2 { font-size:1.3em; margin-bottom:10px; border-bottom:1px solid var(--border); padding-bottom:5px; }
    .funnel-title { text-align:center; font-weight:bold; margin:20px 0 10px; font-size:1.15em; }
    .funnel-container { display:flex; flex-direction:column; align-items:center; gap:8px; margin:15px 0; }
    .funnel-label { position:absolute; left:20px; top:50%; transform:translateY(-50%); font-size:0.82em; font-weight:600; width:36%; text-align:left; line-height:1.2; color:white; }
    .mini-bar-item { display:flex; align-items:center; margin-bottom:8px; font-size:0.88em; }
    .mini-bar-label { width:160px; font-weight:600; color:var(--gray); }
    .mini-bar { flex:1; height:18px; background:#e5e7eb; border-radius:4px; overflow:hidden; margin:0 8px; }
    .mini-bar-fill { height:100%; background:var(--bar-fill); transition:width .3s; }
    .mini-bar-value { width:40px; text-align:right; font-weight:bold; }
    .ranking-chart { height:260px; margin:12px 0; }
    .footer { text-align:center; font-size:0.78em; color:var(--gray); margin-top:15px; border-top:1px solid var(--border); padding-top:8px; }
  </style>
</head>
<body>
<canvas id="bg-canvas"></canvas>

<div class="container">
  <div class="header">
    <img src="logo.png" alt="Logo" class="logo" id="logo">
    <div>
      <div class="title" id="main-title">Relatório de Desempenho de Produção de Oportunidades</div>
      <div class="subtitle">17 de Novembro de 2025</div>
    </div>
  </div>

  <div class="grid">
    <div class="left">
      <!-- A. PRODUÇÃO COLETIVA -->
      <div class="section">
        <h2>A. Produção Coletiva (Visão Macro)</h2>
        <table>
          <thead><tr><th>Etapa</th><th>Total (Volume)</th></tr></thead>
          <tbody>
            <tr><td>Adicionadas</td><td>2</td></tr>
            <tr><td>Aprovadas em Análise Mercadológica/Financeira</td><td>2</td></tr>
            <tr><td>Aprovadas em Análise Jurídica</td><td>0</td></tr>
            <tr><td>Aprovadas em Validação Jurídica</td><td>0</td></tr>
            <tr><td>Aprovadas em Viabilidade Total</td><td>0</td></tr>
          </tbody>
        </table>

        <div class="funnel-title">Funil de Aprovação Coletivo (Volume)</div>
        <div class="funnel-container">
          <div style="background:var(--funnel-1);color:white;padding:10px 50px;border-radius:10px;width:78%;position:relative;text-align:center;">
            <div class="funnel-label">Adicionadas</div><div style="font-size:2.4em;font-weight:bold;">2</div>
          </div>
          <div style="background:var(--funnel-2);color:white;padding:9px 45px;width:68%;position:relative;clip-path:polygon(2%0,98%0,100%100%,0%100%);text-align:center;">
            <div class="funnel-label">Aprovadas em Análise<br>Mercadológica/Financeira</div><div style="font-size:2.1em;font-weight:bold;">2</div>
          </div>
          <div style="background:var(--funnel-3);color:white;padding:8px 40px;width:55%;position:relative;clip-path:polygon(2%0,98%0,100%100%,0%100%);text-align:center;">
            <div class="funnel-label">Aprovadas em<br>Análise Jurídica</div><div style="font-size:1.9em;font-weight:bold;">0</div>
          </div>
          <div style="background:var(--funnel-4);color:white;padding:7px 35px;width:42%;position:relative;clip-path:polygon(2%0,98%0,100%100%,0%100%);text-align:center;">
            <div class="funnel-label">Aprovadas em<br>Validação Jurídica</div><div style="font-size:1.7em;font-weight:bold;">0</div>
          </div>
          <div style="background:var(--funnel-5);color:white;padding:7px 30px;width:30%;border-radius:0 0 10px 10px;position:relative;text-align:center;">
            <div class="funnel-label">Viabilidade Total</div><div style="font-size:1.6em;font-weight:bold;">0</div>
          </div>
        </div>
      </div>

      <!-- MINI BARRAS -->
      <div class="section">
        <h2>Mini Gráfico de Barras</h2>
        <div class="mini-bar-container">
          <div class="mini-bar-item"><div class="mini-bar-label">Adicionadas</div><div class="mini-bar"><div class="mini-bar-fill" style="width:100%"></div></div><div class="mini-bar-value">2</div></div>
          <div class="mini-bar-item"><div class="mini-bar-label">M/F</div><div class="mini-bar"><div class="mini-bar-fill" style="width:100%"></div></div><div class="mini-bar-value">2</div></div>
          <div class="mini-bar-item"><div class="mini-bar-label">Jurídica</div><div class="mini-bar"><div class="mini-bar-fill" style="width:0%"></div></div><div class="mini-bar-value">0</div></div>
          <div class="mini-bar-item"><div class="mini-bar-label">Validação</div><div class="mini-bar"><div class="mini-bar-fill" style="width:0%"></div></div><div class="mini-bar-value">0</div></div>
          <div class="mini-bar-item"><div class="mini-bar-label">Viab. Total</div><div class="mini-bar"><div class="mini-bar-fill" style="width:0%"></div></div><div class="mini-bar-value">0</div></div>
        </div>
      </div>
    </div>

    <div class="right">
      <!-- B. PRODUÇÃO INDIVIDUAL -->
      <div class="section">
        <h2>B. Produção Individual (Visão por Prestador)</h2>
        <table>
          <thead><tr><th>Nome</th><th>Adic.</th><th>Aprov.</th><th>Perdas</th></tr></thead>
          <tbody>
            <tr style="background:#ecfdf5"><td><strong>1. Ailton dos Anjos Menezes</strong></td><td>2</td><td>2</td><td>0</td></tr>
            <tr style="background:#fee2e2"><td><strong>2. Tarly De Souza</strong></td><td>0</td><td>0</td><td>4</td></tr>
          </tbody>
        </table>
        <canvas id="rankingChart" class="ranking-chart"></canvas>
      </div>

      <!-- CONSOLIDADO HISTÓRICO -->
      <div class="section">
        <h2>Consolidado 29/10 a 17/11</h2>
        <table style="font-size:0.84em;">
          <thead><tr><th>Nome</th><th>Adic.</th><th>M/F</th><th>Jur.</th><th>Viab.</th><th>Rep. M/F</th></tr></thead>
          <tbody>
            <tr><td>Ailton dos Anjos Menezes</td><td>55</td><td>31</td><td>3</td><td>1</td><td>22</td></tr>
            <tr><td>Tarly De Souza</td><td>33</td><td>7</td><td>0</td><td>0</td><td>12</td></tr>
            <tr><td>Angelo Raphael</td><td>33</td><td>8</td><td>0</td><td>0</td><td>0</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="footer">
    Angelo excluído do dia a dia | Tabela A apenas Volume | Atualizado em 17/11/2025
  </div>
</div>

<script>
  // (mesmo script de animação de fundo + Chart.js do exemplo anterior – mantido idêntico)
  // ... [código da animação de linhas e bolhas idêntico aos anteriores]

  new Chart(document.getElementById('rankingChart'), {
    type: 'bar',
    data: {
      labels: ['Ailton', 'Tarly'],
      datasets: [
        { label: 'Adicionadas', data: [2, 0], backgroundColor: '#3b82f6' },
        { label: 'Aprovadas M/F', data: [2, 0], backgroundColor: '#10b981' },
        { label: 'Reprovadas M/F', data: [0, 4], backgroundColor: '#ef4444' }
      ]
    },
    options: { responsive:true, plugins:{legend:{position:'top'}}, scales:{y:{beginAtZero:true}} }
  });
</script>
</body>
</html>
